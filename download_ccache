#!/bin/bash
# Lets see machine specifications and environments
df -h
free -h

apt install wget pigz

cd /tmp # Where to download cccahe

echo "|| Downloading CCACHE ||" # will remove it after getting ccache backup from transfer.sh & use newlink
#git clone --depth=1 https://who-em-i:$gh_token@github.com/ImPrashantt/ccache_backup.git ccache
time curl -L https://free.keep.sh/75wZR1XT6aUTnEn8/ccache_backup.zip.001 > ccache_backup.zip.001
time curl -L https://free.keep.sh/kN0PRnsQgldrX6QJ/ccache_backup.zip.002 > ccache_backup.zip.002
time curl -L https://free.keep.sh/d7z57eIzXzOGXmOR/ccache_backup.zip.003 > ccache_backup.zip.003 
time curl -L https://free.keep.sh/bQr009Xa6gyRQYy4/ccache_backup.zip.004 > ccache_backup.zip.004
time curl -L https://free.keep.sh/jolMMf6grBauQiu8/ccache_backup.zip.005 > ccache_backup.zip.005
time curl -L https://free.keep.sh/fDxThwU9z1FsWwcz/ccache_backup.zip.006 > ccache_backup.zip.006
time curl -L https://free.keep.sh/KWu5IRvdsQYj0SLF/ccache_backup.zip.007 > ccache_backup.zip.007
time curl -L https://free.keep.sh/Qguz5URHvbR7DAlc/ccache_backup.zip.008 > ccache_backup.zip.008
time curl -L https://free.keep.sh/Z4X63967bKjq5JLF/ccache_backup.zip.009 > ccache_backup.zip.009
time curl -L https://free.keep.sh/J8qGCvjOlkwOFlNb/ccache_backup.zip.010 > ccache_backup.zip.010
time curl -L https://free.keep.sh/BAEyNUQVTwPvic8T/ccache_backup.zip.011 > ccache_backup.zip.011
time curl -L https://free.keep.sh/9FtTJa7VXYsR7MD3/ccache_backup.zip.012 > ccache_backup.zip.012
time curl -L https://free.keep.sh/hDkAk9zRxUSJa3qf/ccache_backup.zip.013 > ccache_backup.zip.013
time curl -L https://free.keep.sh/3bMlTVHu8V7TiXdT/ccache_backup.zip.014 > ccache_backup.zip.014
time curl -L https://free.keep.sh/hypEnDgXEqoWANZV/ccache_backup.zip.015 > ccache_backup.zip.015
time curl -L https://free.keep.sh/6vB5FUJmzeCcMuVb/ccache_backup.zip.016 > ccache_backup.zip.016
time curl -L https://free.keep.sh/z0wy1XNm50z4l137/ccache_backup.zip.017 > ccache_backup.zip.017

echo "|| Extracting CCACHE ||"
7za x ccache_backup.zip.001
time tar xf ccache.tar.gz  # Extract ccache so ci can use it
rm -rf ccache.tar.gz # Remove unnecessary downloaded file, it will speed up the upload ccache process
rm -rf ccache_backup.zip.*
